# ==============================================================================
# FOLLA Backend - Production Environment Variables
# ==============================================================================
# Copy to .env and fill in your values
# NEVER commit .env with real secrets
#
# LEGEND:
#   游댮 REQUIRED - App will crash without this
#   游리 RECOMMENDED - Strongly recommended for production
#   游릭 OPTIONAL - Can be omitted
# ==============================================================================

# ========= Server (游댮 REQUIRED) =========
NODE_ENV=production
PORT=4000

# ========= URLs (游댮 REQUIRED) =========
# Production domain (HTTPS only!)
FRONTEND_URL=https://follacouffin.tn
BACKEND_URL=https://api.follacouffin.tn

# CORS: Only allow your production domains (comma-separated)
# 丘멆잺 NEVER use * in production with credentials!
CORS_ORIGINS=https://follacouffin.tn,https://www.follacouffin.tn

# ========= Database (游댮 REQUIRED) =========
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
# For connection pooling: add &connection_limit=10
DATABASE_URL=postgresql://folla_user:STRONG_PASSWORD@localhost:5432/folla_prod?schema=public

# ========= Clerk Authentication (游댮 REQUIRED) =========
# PRODUCTION: Use pk_live_xxx and sk_live_xxx keys
# Get from: https://dashboard.clerk.com/last-active?path=api-keys
# 丘멆잺 Boot guard will crash if test keys are used in production!
CLERK_PUBLISHABLE_KEY=pk_live_xxx
CLERK_SECRET_KEY=sk_live_xxx

# ========= Paymee Payment Gateway (游댮 REQUIRED) =========
# Mode: dynamic = full integration with webhooks
PAYMEE_MODE=dynamic

# Environment: MUST be "live" for production payments
# 丘멆잺 Boot guard will crash if sandbox is used in production!
PAYMEE_ENV=live
PAYMEE_API_KEY=your_production_paymee_api_key

# Dynamic mode URLs (MUST be HTTPS and publicly accessible)
PAYMEE_WEBHOOK_URL=https://api.follacouffin.tn/api/paymee/webhook
PAYMEE_RETURN_URL=https://api.follacouffin.tn/api/paymee/redirect/success
PAYMEE_CANCEL_URL=https://api.follacouffin.tn/api/paymee/redirect/cancel

# ========= Email - Brevo SMTP (游댮 REQUIRED) =========
SMTP_HOST=smtp-relay.brevo.com
SMTP_PORT=587
SMTP_USER=your_brevo_smtp_user
SMTP_PASS=your_brevo_smtp_password
MAIL_FROM="FollaCouffin <noreply@follacouffin.tn>"
ADMIN_EMAIL=admin@follacouffin.tn

# ========= Feature Flags (游릭 OPTIONAL) =========
# Set to "false" to disable specific email types
SEND_ORDER_EMAIL=true
SEND_ADMIN_ORDER_EMAIL=true
SEND_LOGIN_EMAIL=false

# ========= Observability (游리 RECOMMENDED) =========
# Sentry DSN for error tracking (highly recommended for production)
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
SENTRY_ENVIRONMENT=production
LOG_LEVEL=info

# ========= Meta CAPI (游릭 OPTIONAL) =========
# Facebook Conversions API for ad tracking
META_PIXEL_ID=
META_CAPI_ACCESS_TOKEN=
META_CAPI_ENABLED=false
META_CAPI_USE_TEST_MODE=false
META_CAPI_TEST_EVENT_CODE=

# ========= Branding (游리 RECOMMENDED) =========
LOGO_URL=https://follacouffin.tn/logo.png

# ========= Payment Reconciliation (游릭 OPTIONAL) =========
# Timeout for pending payments (minutes) before marking as expired
PAYMENT_TIMEOUT_MINUTES=30
